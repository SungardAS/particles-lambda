---
runtimeDefault: "python2.7"
handlerDefault: "index.handler"
memorySizeDefault: 128
timeoutDefault: 3
---
{{parameter "function/runtime" logicalId="Runtime" default=runtimeDefault}}
{{parameter "function/handler" logicalId="Handler" default=handlerDefault}}
{{parameter "function/memory_size" logicalId="MemorySize" default=memorySizeDefault}}
{{parameter "function/timeout" logicalId="Timeout" default=timeoutDefault}}

{{
  resource "function"
  logicalId="Function"
  handler=(ref "Handler")
  memorySize=(ref "MemorySize")
  timeout=(ref "Timeout")
  runtime=(ref "Runtime")
  role=executionRole
}}

{{output "function_name" logicalId="FunctionName" functionLogicalId="Function"}}
{{output "function_arn" logicalId="FunctionArn" functionLogicalId="Function"}}
{{output "role_name" logicalId="ExecutionRoleName" roleLogicalId="FunctionExecutionRole" condition="ExecutionRoleIsEmpty"}}
{{output "role_arn" logicalId="ExecutionRoleArn" roleLogicalId="FunctionExecutionRole" condition="ExecutionRoleIsEmpty"}}
